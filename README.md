# Valley

Valley is tool for generating plain Go validation code based on your Go code.

## Usage

...

## Motivation

Previously I've implemented validation in Go using reflection, and while reflection isn't actually
as slow as you might expect it does come with other issues. By generating validation code instead of
resorting to reflection you regain the protection that the Go compiler gives you. Even if the output
of Valley is wrong (or you misconfigure the constraints) your application would fail to compile,
alerting you to the issue.

On the topic of performance, the code generated by Valley is still a lot faster than reflection.
\[TODO: Add some benchmarks comparing Valley with a/the aforementioned reflection-based approach\].

Another issue I found with reflection is that you have to pass in references to fields to validate
as strings, rather than the fields themselves. The configuration for Valley needs to be able to
compile as Go code. If it's mis-used, Valley will do it's best to tell you what's wrong, and where.
References to fields should exist, and your existing tooling, and Go toolchain will tell you if they
don't - as well as Valley.

## TODO

* Multiple constraints functions, that generate different validate functions.
    * The `Valid` constraint would need an option to override which method is called.
* You might want to validate map keys too, so maybe a `Keys` method on `Field`?

## License

MIT

## Contributions

Feel free to open a [pull request][1], or file an [issue][2] on Github. I always welcome
contributions as long as they're for the benefit of all (potential) users of this project.

If you're unsure about anything, feel free to ask about it in an issue before you get your heart set
on fixing it yourself.

[1]: https://github.com/seeruk/valley/pulls
[2]: https://github.com/seeruk/valley/issues
